DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@7e3236d[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37606-1491199520836-0:7) uptime 0.166 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37606-1491199520836-0:7) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:1) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:1) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@4d21c56e[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#0] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@3138953b[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#1] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@7412681[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-37551-1491205730248-4:1, address: vm://localhost#0, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-37551-1491205730248-4:1, clientId = ID:myjava-37551-1491205730248-3:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-37551-1491205730248-4:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-37551-1491205730248-4:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-37551-1491205730248-4:1
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#0
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@7412681[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 7]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#0
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#0
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5809fa26[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3138953b[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 6]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:1) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4d21c56e[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: true took: 0.001 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4971f459[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:1) uptime 4.925 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:1) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:2) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:2) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@4c07d1fc[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#2] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@52831a73[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#3] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@58116460[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-37551-1491205730248-7:1, address: vm://localhost#2, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-37551-1491205730248-7:1, clientId = ID:myjava-37551-1491205730248-6:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-37551-1491205730248-7:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created queue name test1 to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-37551-1491205730248-7:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-37551-1491205730248-7:1
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@2506e949[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.001 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@52831a73[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 6]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#2
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@58116460[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#2
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#2
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:2) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4c07d1fc[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: true took: 0.001 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@54af3cb9[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:2) uptime 0.148 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:2) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:3) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:3) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@236fdf[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#4] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@653fb8d1[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#5] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@199dcaf[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-37551-1491205730248-10:1, address: vm://localhost#4, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-37551-1491205730248-10:1, clientId = ID:myjava-37551-1491205730248-9:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-37551-1491205730248-10:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created queue name test1 to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: queue://Test-Q
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.Queue - queue://Test-Q, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Queue
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Producer.Queue.Test-Q
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created producer for queue name Test-Q to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-37551-1491205730248-10:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-37551-1491205730248-10:1
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@27b337bb[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@653fb8d1[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 7]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#4
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@199dcaf[Running, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 2]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#4
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#4
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:3) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@236fdf[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3b97907c[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:3) uptime 0.402 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:3) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:4) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:4) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@59096b66[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#6] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@65be88ae[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#7] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@1016dca4[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-37551-1491205730248-13:1, address: vm://localhost#6, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-37551-1491205730248-13:1, clientId = ID:myjava-37551-1491205730248-12:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-37551-1491205730248-13:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created queue name test1 to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: queue://Test-Q
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.Queue - queue://Test-Q, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Queue
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Producer.Queue.Test-Q
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created producer for queue name Test-Q to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Storing 1 properties in a MapMessage
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.Queue - embedded-broker Message ID:myjava-37551-1491205730248-13:1:1:1:1 sent to queue://Test-Q
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.region.Queue - queue://Test-Q, subscriptions=0, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 1, dequeueCount: 0, memUsage:1048, maxPageSize:200
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Sent message via producer for name ActiveMQMessageProducer { value=ID:myjava-37551-1491205730248-13:1:1:1 } to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-37551-1491205730248-13:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-37551-1491205730248-13:1
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@12952aff[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#6
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@1016dca4[Running, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 4]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#6
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#6
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@65be88ae[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 7]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:4) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@59096b66[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@7f5614f9[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:4) uptime 0.286 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:4) is shutdown
ERROR ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.thread.TaskRunnerFactory - Error in thread 'ActiveMQ VMTransport: vm://localhost#7-2'
org.apache.activemq.broker.BrokerStoppedException: Broker BrokerService[embedded-broker] is being stopped
	at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:205)
	at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:116)
	at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)
	at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:273)
	at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:133)
	at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:48)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:5) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:5) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@480cbe2e[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:5) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@480cbe2e[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@616a06e3[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:5) uptime 0.038 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:5) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:6) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:6) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@42297bdf[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#8] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@5bb911c1[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#9] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@14325e20[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-37551-1491205730248-17:1, address: vm://localhost#8, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-37551-1491205730248-17:1, clientId = ID:myjava-37551-1491205730248-16:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-37551-1491205730248-17:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created queue name test1 to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: queue://Test-Q
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.Queue - queue://Test-Q, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Queue
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Producer.Queue.Test-Q
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created producer for queue name Test-Q to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Storing 0 properties in a MapMessage
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Storing 1 properties in a MapMessage
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Storing 2 properties in a MapMessage
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-37551-1491205730248-17:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-37551-1491205730248-17:1
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@44598ef7[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5bb911c1[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 7]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#8
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@14325e20[Running, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 3]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#8
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#8
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:6) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@42297bdf[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3ebc955b[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:6) uptime 0.065 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:6) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:7) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:7) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@21a46ff1[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#10] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@6bcae9[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#11] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@2f6a29c4[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-37551-1491205730248-20:1, address: vm://localhost#10, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-37551-1491205730248-20:1, clientId = ID:myjava-37551-1491205730248-19:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-37551-1491205730248-20:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-37551-1491205730248-20:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-37551-1491205730248-20:1
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@58feb6b0[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#10
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@2f6a29c4[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#10
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#10
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6bcae9[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 6]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:7) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@21a46ff1[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: false took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@7e3236d[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:7) uptime 0.170 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-37551-1491205730248-0:7) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:1) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:1) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@4d21c56e[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#0] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@3138953b[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#1] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@7412681[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-34749-1491206193469-4:1, address: vm://localhost#0, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-34749-1491206193469-4:1, clientId = ID:myjava-34749-1491206193469-3:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-34749-1491206193469-4:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-34749-1491206193469-4:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-34749-1491206193469-4:1
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#1-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#0
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@7412681[Running, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 5]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#0
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#0
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5809fa26[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3138953b[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 6]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:1) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4d21c56e[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: true took: 0.001 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4971f459[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:1) uptime 4.739 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:1) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:2) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:2) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@4c07d1fc[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#2] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@52831a73[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#3] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@1d9cde9f[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-34749-1491206193469-7:1, address: vm://localhost#2, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-34749-1491206193469-7:1, clientId = ID:myjava-34749-1491206193469-6:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#3-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-34749-1491206193469-7:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created queue name test1 to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#3-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-34749-1491206193469-7:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#3-2 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-34749-1491206193469-7:1
DEBUG ActiveMQ VMTransport: vm://localhost#3-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#3-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@2506e949[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@52831a73[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 6]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#2
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@1d9cde9f[Running, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#2
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#2
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:2) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4c07d1fc[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: true took: 0.001 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@54af3cb9[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:2) uptime 0.163 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:2) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:3) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:3) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@236fdf[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#4] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@653fb8d1[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#5] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@255120ae[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-34749-1491206193469-10:1, address: vm://localhost#4, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-34749-1491206193469-10:1, clientId = ID:myjava-34749-1491206193469-9:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#5-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-34749-1491206193469-10:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created queue name test1 to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: queue://Test-Q
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.Queue - queue://Test-Q, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Queue
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Producer.Queue.Test-Q
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created producer for queue name Test-Q to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-34749-1491206193469-10:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-34749-1491206193469-10:1
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@59636c47[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@653fb8d1[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 7]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#4
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@255120ae[Running, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 3]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#4
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#4
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:3) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@236fdf[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@59096b66[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:3) uptime 0.428 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:3) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
ERROR ActiveMQ VMTransport: vm://localhost#5-2 org.apache.activemq.thread.TaskRunnerFactory - Error in thread 'ActiveMQ VMTransport: vm://localhost#5-2'
org.apache.activemq.broker.BrokerStoppedException: Broker BrokerService[embedded-broker] is being stopped
	at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:205)
	at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:116)
	at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)
	at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:273)
	at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:133)
	at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:48)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:4) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:4) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@631c6d11[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#6] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@62ade015[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#7] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@72614434[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-34749-1491206193469-13:1, address: vm://localhost#6, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-34749-1491206193469-13:1, clientId = ID:myjava-34749-1491206193469-12:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#7-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-34749-1491206193469-13:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created queue name test1 to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: queue://Test-Q
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.Queue - queue://Test-Q, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Queue
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Producer.Queue.Test-Q
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created producer for queue name Test-Q to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Storing 1 properties in a MapMessage
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Sent message via producer for name ActiveMQMessageProducer { value=ID:myjava-34749-1491206193469-13:1:1:1 } to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.Queue - embedded-broker Message ID:myjava-34749-1491206193469-13:1:1:1:1 sent to queue://Test-Q
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-34749-1491206193469-13:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.region.Queue - queue://Test-Q, subscriptions=0, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 1, dequeueCount: 0, memUsage:1048, maxPageSize:200
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-34749-1491206193469-13:1
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#7-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@433ea2ac[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@62ade015[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 7]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#6
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@72614434[Running, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 3]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#6
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#6
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:4) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@631c6d11[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 5] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6c3f1658[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:4) uptime 0.429 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:4) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:5) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:5) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@110e9982[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:5) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@110e9982[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@66e827a8[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:5) uptime 0.143 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:5) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:6) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:6) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@5bb911c1[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#8] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@632b305d[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#9] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@71086f27[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-34749-1491206193469-17:1, address: vm://localhost#8, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-34749-1491206193469-17:1, clientId = ID:myjava-34749-1491206193469-16:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#9-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-34749-1491206193469-17:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created session to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created queue name test1 to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: queue://Test-Q
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.Queue - queue://Test-Q, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Queue
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Producer.Queue.Test-Q
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created producer for queue name Test-Q to broker at vm://localhost
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Storing 0 properties in a MapMessage
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Storing 1 properties in a MapMessage
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Storing 2 properties in a MapMessage
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-34749-1491206193469-17:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-34749-1491206193469-17:1
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#9-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@17222c11[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@632b305d[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 7]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#8
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@71086f27[Running, pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 2]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#8
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#8
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:6) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5bb911c1[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@11b5f4e2[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:6) uptime 0.215 seconds
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:6) is shutdown
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Starting embedded ActiveMQ broker: embedded-broker
WARN main org.apache.activemq.broker.BrokerService - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331 mb
INFO main org.apache.activemq.broker.BrokerService - Using Persistence Adapter: MemoryPersistenceAdapter
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:7) is starting
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:7) started
INFO main org.apache.activemq.broker.BrokerService - For help or more information please see: http://activemq.apache.org
DEBUG main org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.MasterBroker
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ BrokerService[embedded-broker] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@6bcae9[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
WARN main org.apache.activemq.broker.BrokerRegistry - Broker localhost not started so using embedded-broker instead
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - binding to broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost started
DEBUG main org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#10] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@58feb6b0[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-1 org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ VMTransport: vm://localhost#11] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@a6f8580[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnection - Setting up new connection id: ID:myjava-34749-1491206193469-20:1, address: vm://localhost#10, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:myjava-34749-1491206193469-20:1, clientId = ID:myjava-34749-1491206193469-19:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding destination: topic://ActiveMQ.Advisory.Connection
DEBUG ActiveMQ VMTransport: vm://localhost#11-1 org.apache.activemq.broker.region.AbstractRegion - embedded-broker adding consumer: ID:myjava-34749-1491206193469-20:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
INFO main uk.wils.backpressure.mqclient.MqClientImpl - Created connection to broker at vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#11-2 org.apache.activemq.broker.region.AbstractRegion - embedded-broker removing consumer: ID:myjava-34749-1491206193469-20:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
DEBUG ActiveMQ VMTransport: vm://localhost#11-2 org.apache.activemq.broker.TransportConnection - remove connection id: ID:myjava-34749-1491206193469-20:1
DEBUG ActiveMQ VMTransport: vm://localhost#11-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG ActiveMQ VMTransport: vm://localhost#11-2 org.apache.activemq.broker.TransportConnector - Publishing: vm://localhost for broker transport URI: vm://localhost
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3830f918[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopping connection: vm://localhost#10
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@a6f8580[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 3]
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Stopped transport: vm://localhost#10
DEBUG ActiveMQ BrokerService[embedded-broker] Task-2 org.apache.activemq.broker.TransportConnection - Connection Stopped: vm://localhost#10
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@58feb6b0[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 6]
DEBUG main org.apache.activemq.transport.vm.VMTransportFactory - Shutting down VM connectors for broker: localhost
INFO main org.apache.activemq.broker.TransportConnector - Connector vm://localhost stopped
INFO main org.apache.activemq.junit.EmbeddedActiveMQBroker - Stopping Embedded ActiveMQ Broker: embedded-broker
INFO main org.apache.activemq.broker.BrokerService - Apache ActiveMQ 5.14.3 (embedded-broker, ID:myjava-34749-1491206193469-0:7) is shutting down
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6bcae9[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: false took: 0.000 seconds.
DEBUG main org.apache.activemq.util.ThreadPoolUtils - Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@14c99bf6[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
